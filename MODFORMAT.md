# Redguard Mod Formats

This guide explains how to create and package mods for The Elder Scrolls Adventures: Redguard using Mod Organizer 2.

## Format 1: Patch-Based Mods

Format 1 mods modify specific game files without replacing entire files. This is the **recommended format** for most Redguard mods.

### Required Structure

```
ModName/
├── About.txt                 (REQUIRED - identifies this as a Format 1 mod)
├── meta.ini                  (Auto-generated by the plugin)
├── INI Changes.txt           (Optional - config/INI modifications)
├── Map Changes.txt           (Optional - script/gameplay changes)
├── RTX Changes.txt           (Optional - dialogue/text changes)
├── Audio/                    (Optional - audio files)
│   └── *.wav
└── Textures/                 (Optional - texture files)
    └── *.*
```

### File Descriptions

#### About.txt (Required)
Plain text file with 3 lines:
```
1.01
Author Name
Description of the mod (can span multiple lines after line 2)
```

**Example:**
```
1.01
Dillonn241
Aims to fix all bugs and typos in Redguard. Also restores cut content where appropriate, most of which is unused due to scripting errors.
```

#### INI Changes.txt (Optional)
Specifies modifications to configuration files.

Format: `FILENAME.EXT=SECTION=KEY=VALUE`

**Example:**
```
CONFIG.INI=AUDIO=MUSIC=1
CONFIG.INI=VIDEO=RESOLUTION=800x600
```

#### Map Changes.txt (Optional)
Specifies modifications to game scripts and map data.

Format: `MAPNAME.RGM=offset:hex_bytes`

**Example:**
```
HOUSE01.RGM=1000:48656C6C6F
```

#### RTX Changes.txt (Optional)
Specifies modifications to the game's RTX file (dialogue, strings, textures).

Format: `offset:hex_replacement`

**Example:**
```
1000:48656C6C6F
```

#### Audio/ Directory (Optional)
Place audio files (.wav) that should be used instead of game audio.

#### Textures/ Directory (Optional)
Place texture files that should override game textures.

## Format 2: File Replacement Mods

Format 2 mods replace entire game files with modified versions. This format is **not recommended** for Redguard mods but is supported for compatibility.

### Structure
```
ModName/
├── ENGLISH.RTX              (Game files with any extension)
├── HOUSE01.RGM
├── CONFIG.INI
└── ...
```

**Note:** Format 2 mods do NOT require About.txt but must contain at least one recognizable game file.

## Creating a Mod Package

### Step 1: Prepare Files
Create a folder with your mod name and add your files according to the format above.

### Step 2: Create About.txt
Add a simple text file named `About.txt` with:
- Line 1: Version number (e.g., 1.01)
- Line 2: Author name(s)
- Lines 3+: Description

### Step 3: Package for MO2
1. **Option A (Recommended):** Create a ZIP archive with the mod folder
2. **Option B:** Create a folder directly in `%USERPROFILE%\AppData\Local\ModOrganizer\redguard\mods\`

### Step 4: Install in MO2
1. If using ZIP: In MO2, drag the ZIP file to the Mods list or use "Install from file"
2. The plugin will automatically:
   - Recognize the mod as Format 1
   - Generate `meta.ini` with proper metadata
   - Categorize the mod based on content
   - Enable VFS support

## Troubleshooting

### Mod Shows "Contains No Valid Game Data"
**Solution:** Ensure `About.txt` exists in the mod root directory.

### Mod Not Recognized When Installing
**Solution:** 
- Verify `About.txt` is in the root, not in a subdirectory
- Check that the ZIP archive has the correct structure (mod folder should be top level)
- The mod must have at least one change file (INI Changes.txt, Map Changes.txt, RTX Changes.txt, Audio/, or Textures/)

### Changes Not Applied When Game Launches
**Solution:**
- Ensure the mod is enabled in MO2's mod list
- Launch the game through MO2 (not directly)
- The VFS system will automatically build and apply changes when you click "Play"

## Auto-Categorization

The plugin automatically categorizes mods based on their content:

| Category | Detected By |
|----------|-------------|
| **Graphics** | Textures only (no audio/maps) |
| **Audio** | Audio only (no textures/maps) |
| **Gameplay** | Map changes + (INI or RTX) |
| **Settings** | INI changes only |
| **Overhauls** | Textures + Audio |
| **Patch** | Contains "patch" or "fix" in name |
| **Localization** | Contains "translation" or "traduccion" |

## Examples

### Example 1: Translation Mod
```
Traduccion-español/
├── About.txt
├── INI Changes.txt        (Spanish UI text)
├── RTX Changes.txt        (Spanish dialogue)
└── meta.ini              (Auto-generated: Localization)
```

### Example 2: Content Restoration Mod
```
Unofficial Redguard Patch/
├── About.txt
├── INI Changes.txt        (Configuration fixes)
├── Map Changes.txt        (Script changes)
├── RTX Changes.txt        (Text/dialogue fixes)
└── meta.ini              (Auto-generated: Gameplay)
```

### Example 3: Sea Serpent Mod
```
Sea Serpent/
├── About.txt
├── Map Changes.txt        (Restores sea serpent scripts)
└── meta.ini              (Auto-generated: Patch)
```

## VFS (Virtual File System)

When you launch the game:
1. The plugin reads enabled mods in load order
2. For each Format 1 mod, it builds VFS files in the mod folder
3. MO2 overlays these files over the game directory
4. Original game files are NEVER modified (safe!)
5. When you launch the game, changes are applied virtually

This means you can:
- Safely test mods without risk to your game installation
- Enable/disable mods and re-launch without any cleanup
- Have multiple conflicting mods installed (though only one per load order applies)
